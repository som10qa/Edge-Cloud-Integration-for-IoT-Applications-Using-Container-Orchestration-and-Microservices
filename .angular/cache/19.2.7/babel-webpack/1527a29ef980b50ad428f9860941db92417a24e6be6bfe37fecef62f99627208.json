{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../api.service\";\nimport * as i2 from \"@angular/common\";\nfunction NotificationsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"No notifications received yet.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction NotificationsComponent_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const msg_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(msg_r1);\n  }\n}\nexport let NotificationsComponent = /*#__PURE__*/(() => {\n  class NotificationsComponent {\n    api;\n    notifications = [];\n    sub;\n    constructor(api) {\n      this.api = api;\n    }\n    ngOnInit() {\n      this.sub = this.api.subscribeToNotifications().subscribe({\n        next: message => {\n          this.notifications.push(message);\n        },\n        error: err => {\n          this.notifications.push('Error receiving updates');\n          console.error('SSE error:', err);\n        }\n      });\n    }\n    ngOnDestroy() {\n      if (this.sub) {\n        this.sub.unsubscribe();\n      }\n    }\n    static ɵfac = function NotificationsComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || NotificationsComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: NotificationsComponent,\n      selectors: [[\"app-notifications\"]],\n      decls: 5,\n      vars: 2,\n      consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"]],\n      template: function NotificationsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1, \"Real-Time Notifications\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(2, NotificationsComponent_div_2_Template, 3, 0, \"div\", 0);\n          i0.ɵɵelementStart(3, \"ul\");\n          i0.ɵɵtemplate(4, NotificationsComponent_li_4_Template, 2, 1, \"li\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.notifications.length === 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.notifications);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf],\n      styles: [\"\\n\\nul[_ngcontent-%COMP%] {\\n    list-style-type: circle;\\n    padding-left: 20px;\\n  }\\n  \\n  li[_ngcontent-%COMP%] {\\n    margin-bottom: 4px;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbm90aWZpY2F0aW9ucy9ub3RpZmljYXRpb25zLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkNBQTZDO0FBQzdDO0lBQ0ksdUJBQXVCO0lBQ3ZCLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGtCQUFrQjtFQUNwQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIEJhc2ljIHN0eWxpbmcgZm9yIE5vdGlmaWNhdGlvbnNDb21wb25lbnQgKi9cbnVsIHtcbiAgICBsaXN0LXN0eWxlLXR5cGU6IGNpcmNsZTtcbiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG4gIH1cbiAgXG4gIGxpIHtcbiAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gIH1cbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n  return NotificationsComponent;\n})();","map":{"version":3,"names":["CommonModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","msg_r1","NotificationsComponent","api","notifications","sub","constructor","ngOnInit","subscribeToNotifications","subscribe","next","message","push","error","err","console","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","i1","ApiService","selectors","decls","vars","consts","template","NotificationsComponent_Template","rf","ctx","ɵɵtemplate","NotificationsComponent_div_2_Template","NotificationsComponent_li_4_Template","ɵɵproperty","length","i2","NgForOf","NgIf","styles"],"sources":["/Users/soumyasubhranandy/FrontEnd_IOT/ui/iot-app/src/app/notifications/notifications.component.ts","/Users/soumyasubhranandy/FrontEnd_IOT/ui/iot-app/src/app/notifications/notifications.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ApiService } from '../api.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  standalone: true,\n  selector: 'app-notifications',\n  imports: [CommonModule],\n  templateUrl: './notifications.component.html',\n  styleUrls: ['./notifications.component.css']\n})\nexport class NotificationsComponent implements OnInit, OnDestroy {\n  notifications: string[] = [];\n  private sub?: Subscription;\n\n  constructor(private api: ApiService) {}\n\n  ngOnInit(): void {\n    this.sub = this.api.subscribeToNotifications().subscribe({\n      next: (message: string) => {\n        this.notifications.push(message);\n      },\n      error: (err: any) => {\n        this.notifications.push('Error receiving updates');\n        console.error('SSE error:', err);\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n}\n","<h2>Real-Time Notifications</h2>\n<div *ngIf=\"notifications.length === 0\">\n  <p>No notifications received yet.</p>\n</div>\n<ul>\n  <li *ngFor=\"let msg of notifications\">{{ msg }}</li>\n</ul>\n"],"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;;;;;;ICC5CC,EADF,CAAAC,cAAA,UAAwC,QACnC;IAAAD,EAAA,CAAAE,MAAA,qCAA8B;IACnCF,EADmC,CAAAG,YAAA,EAAI,EACjC;;;;;IAEJH,EAAA,CAAAC,cAAA,SAAsC;IAAAD,EAAA,CAAAE,MAAA,GAAS;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAAdH,EAAA,CAAAI,SAAA,EAAS;IAATJ,EAAA,CAAAK,iBAAA,CAAAC,MAAA,CAAS;;;ADOjD,WAAaC,sBAAsB;EAA7B,MAAOA,sBAAsB;IAIbC,GAAA;IAHpBC,aAAa,GAAa,EAAE;IACpBC,GAAG;IAEXC,YAAoBH,GAAe;MAAf,KAAAA,GAAG,GAAHA,GAAG;IAAe;IAEtCI,QAAQA,CAAA;MACN,IAAI,CAACF,GAAG,GAAG,IAAI,CAACF,GAAG,CAACK,wBAAwB,EAAE,CAACC,SAAS,CAAC;QACvDC,IAAI,EAAGC,OAAe,IAAI;UACxB,IAAI,CAACP,aAAa,CAACQ,IAAI,CAACD,OAAO,CAAC;QAClC,CAAC;QACDE,KAAK,EAAGC,GAAQ,IAAI;UAClB,IAAI,CAACV,aAAa,CAACQ,IAAI,CAAC,yBAAyB,CAAC;UAClDG,OAAO,CAACF,KAAK,CAAC,YAAY,EAAEC,GAAG,CAAC;QAClC;OACD,CAAC;IACJ;IAEAE,WAAWA,CAAA;MACT,IAAI,IAAI,CAACX,GAAG,EAAE;QACZ,IAAI,CAACA,GAAG,CAACY,WAAW,EAAE;MACxB;IACF;;uCAtBWf,sBAAsB,EAAAP,EAAA,CAAAuB,iBAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;;YAAtBlB,sBAAsB;MAAAmB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCZnChC,EAAA,CAAAC,cAAA,SAAI;UAAAD,EAAA,CAAAE,MAAA,8BAAuB;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAChCH,EAAA,CAAAkC,UAAA,IAAAC,qCAAA,iBAAwC;UAGxCnC,EAAA,CAAAC,cAAA,SAAI;UACFD,EAAA,CAAAkC,UAAA,IAAAE,oCAAA,gBAAsC;UACxCpC,EAAA,CAAAG,YAAA,EAAK;;;UALCH,EAAA,CAAAI,SAAA,GAAgC;UAAhCJ,EAAA,CAAAqC,UAAA,SAAAJ,GAAA,CAAAxB,aAAA,CAAA6B,MAAA,OAAgC;UAIhBtC,EAAA,CAAAI,SAAA,GAAgB;UAAhBJ,EAAA,CAAAqC,UAAA,YAAAJ,GAAA,CAAAxB,aAAA,CAAgB;;;qBDG1BV,YAAY,EAAAwC,EAAA,CAAAC,OAAA,EAAAD,EAAA,CAAAE,IAAA;MAAAC,MAAA;IAAA;;SAIXnC,sBAAsB;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}