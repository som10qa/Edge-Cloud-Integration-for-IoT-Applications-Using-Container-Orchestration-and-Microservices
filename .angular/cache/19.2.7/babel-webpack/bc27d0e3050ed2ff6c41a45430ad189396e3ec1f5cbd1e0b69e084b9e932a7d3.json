{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../api.service\";\nimport * as i2 from \"@angular/forms\";\nexport let AuthComponent = /*#__PURE__*/(() => {\n  class AuthComponent {\n    apiService;\n    // Properties bound to form fields\n    username = '';\n    password = '';\n    // Message for success or error feedback\n    message = '';\n    // Simple flag to indicate loading state\n    isLoading = false;\n    constructor(apiService) {\n      this.apiService = apiService;\n    }\n    // Method to register a new user using POST /register endpoint\n    register() {\n      this.isLoading = true;\n      const credentials = {\n        username: this.username,\n        password: this.password\n      };\n      this.apiService.register(credentials).subscribe({\n        next: res => {\n          this.message = res.message;\n          this.isLoading = false;\n        },\n        error: err => {\n          this.message = err.error?.message || 'Registration failed';\n          this.isLoading = false;\n        }\n      });\n    }\n    // Method to log in a user using POST /login endpoint\n    login() {\n      console.log('Login called:', {\n        username: this.username,\n        password: this.password\n      });\n      this.apiService.login({\n        username: this.username,\n        password: this.password\n      }).subscribe({\n        next: res => {\n          console.log('Login response:', res);\n          this.message = res.message;\n        },\n        error: err => {\n          console.error('Login error:', err);\n          this.message = err.error?.message || 'Login failed';\n        }\n      });\n    }\n    static ɵfac = function AuthComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AuthComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AuthComponent,\n      selectors: [[\"app-auth\"]],\n      decls: 18,\n      vars: 3,\n      consts: [[1, \"mb-3\"], [1, \"row\", \"g-3\"], [1, \"col-md-6\"], [\"for\", \"username\", 1, \"form-label\", \"fw-bold\"], [\"type\", \"text\", \"id\", \"username\", \"placeholder\", \"Enter username\", \"name\", \"username\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"password\", 1, \"form-label\", \"fw-bold\"], [\"type\", \"password\", \"id\", \"password\", \"placeholder\", \"Enter password\", \"name\", \"password\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"col-12\", \"mt-3\"], [1, \"btn\", \"btn-primary\", \"me-2\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"mt-3\", \"text-info\"]],\n      template: function AuthComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\", 0);\n          i0.ɵɵtext(1, \"User Authentication\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"form\", 1)(3, \"div\", 2)(4, \"label\", 3);\n          i0.ɵɵtext(5, \"Username\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"input\", 4);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AuthComponent_Template_input_ngModelChange_6_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.username, $event) || (ctx.username = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 2)(8, \"label\", 5);\n          i0.ɵɵtext(9, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"input\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AuthComponent_Template_input_ngModelChange_10_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.password, $event) || (ctx.password = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 7)(12, \"button\", 8);\n          i0.ɵɵlistener(\"click\", function AuthComponent_Template_button_click_12_listener() {\n            return ctx.login();\n          });\n          i0.ɵɵtext(13, \"Login\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function AuthComponent_Template_button_click_14_listener() {\n            return ctx.register();\n          });\n          i0.ɵɵtext(15, \"Register\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(16, \"div\", 10);\n          i0.ɵɵtext(17);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.username);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.password);\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate1(\" \", ctx.message, \"\\n\");\n        }\n      },\n      dependencies: [CommonModule, FormsModule, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm],\n      styles: [\"\\n\\ndiv[_ngcontent-%COMP%] {\\n  margin-bottom: 8px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  width: 80px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXV0aC9hdXRoLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkJBQTZCO0FBQzdCO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLFdBQVc7QUFDYiIsInNvdXJjZXNDb250ZW50IjpbIi8qIFN0eWxlcyBmb3IgQXV0aENvbXBvbmVudCAqL1xuZGl2IHtcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xufVxuXG5sYWJlbCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgd2lkdGg6IDgwcHg7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n  return AuthComponent;\n})();","map":{"version":3,"names":["CommonModule","FormsModule","AuthComponent","apiService","username","password","message","isLoading","constructor","register","credentials","subscribe","next","res","error","err","login","console","log","i0","ɵɵdirectiveInject","i1","ApiService","selectors","decls","vars","consts","template","AuthComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtwoWayListener","AuthComponent_Template_input_ngModelChange_6_listener","$event","ɵɵtwoWayBindingSet","AuthComponent_Template_input_ngModelChange_10_listener","ɵɵlistener","AuthComponent_Template_button_click_12_listener","AuthComponent_Template_button_click_14_listener","ɵɵadvance","ɵɵtwoWayProperty","ɵɵtextInterpolate1","i2","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","NgModel","NgForm","styles"],"sources":["/Users/soumyasubhranandy/FrontEnd_IOT/ui/iot-app/src/app/auth/auth.component.ts","/Users/soumyasubhranandy/FrontEnd_IOT/ui/iot-app/src/app/auth/auth.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ApiService } from '../api.service';\n\n@Component({\n  standalone: true,\n  selector: 'app-auth',\n  imports: [CommonModule, FormsModule],\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent {\n  // Properties bound to form fields\n  username = '';\n  password = '';\n  \n  // Message for success or error feedback\n  message = '';\n  \n  // Simple flag to indicate loading state\n  isLoading = false;\n\n  constructor(private apiService: ApiService) {}\n\n  // Method to register a new user using POST /register endpoint\n  register(): void {\n    this.isLoading = true;\n    const credentials = { username: this.username, password: this.password };\n\n    this.apiService.register(credentials).subscribe({\n      next: (res: any) => { \n        this.message = res.message; \n        this.isLoading = false;\n      },\n      error: (err: any) => { \n        this.message = err.error?.message || 'Registration failed'; \n        this.isLoading = false;\n      }\n    });\n  }\n\n  // Method to log in a user using POST /login endpoint\n  login(): void {\n    console.log('Login called:', { username: this.username, password: this.password });\n    this.apiService.login({ username: this.username, password: this.password }).subscribe({\n      next: (res: any) => { \n        console.log('Login response:', res);\n        this.message = res.message;\n      },\n      error: (err: any) => {\n        console.error('Login error:', err);\n        this.message = err.error?.message || 'Login failed';\n      }\n    });\n  }\n}\n","<h2 class=\"mb-3\">User Authentication</h2>\n<form class=\"row g-3\">\n  <div class=\"col-md-6\">\n    <label for=\"username\" class=\"form-label fw-bold\">Username</label>\n    <input\n      type=\"text\"\n      class=\"form-control\"\n      id=\"username\"\n      placeholder=\"Enter username\"\n      [(ngModel)]=\"username\"\n      name=\"username\"\n    />\n  </div>\n  <div class=\"col-md-6\">\n    <label for=\"password\" class=\"form-label fw-bold\">Password</label>\n    <input\n      type=\"password\"\n      class=\"form-control\"\n      id=\"password\"\n      placeholder=\"Enter password\"\n      [(ngModel)]=\"password\"\n      name=\"password\"\n    />\n  </div>\n  <div class=\"col-12 mt-3\">\n    <button class=\"btn btn-primary me-2\" (click)=\"login()\">Login</button>\n    <button class=\"btn btn-secondary\" (click)=\"register()\">Register</button>\n  </div>\n</form>\n<div class=\"mt-3 text-info\">\n  {{ message }}\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}